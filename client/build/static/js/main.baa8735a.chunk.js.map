{"version":3,"sources":["components/Song/icons/pause.svg","components/Song/icons/play.svg","components/Login/Login.js","components/OptionsBar/OptionsBar.js","components/Song/Song.js","components/Playlist/Playlist.js","components/SavePlaylistButton/SavePlaylistButton.js","App.js","index.js"],"names":["module","exports","__webpack_require__","p","Login","this","props","loggedIn","react_default","a","createElement","className","href","React","Component","options","genres","OptionsBar","_this","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","handleSearch","e","preventDefault","state","selected","length","getRecommendations","genre","includes","setState","filter","x","console","log","concat","_this2","map","key","onClick","handleOptionClick","bind","getOptionClass","Song","handleClick","uri","isPlaying","pause","play","song","src","albumSrc","id","alt","name","artist","Playlist","songs","components_Song_Song","SavePlaylistButton","hasSongs","savePlaylist","spotifyApi","SpotifyWebApi","App","seed_genres","then","data","tracks","track","artists","album","images","url","body","description","join","createPlaylist","uris","addTracksToPlaylist","params","getHashParams","setAccessToken","access_token","hashParams","r","q","window","location","hash","substring","exec","decodeURIComponent","components_Login_Login","components_OptionsBar_OptionsBar","components_Playlist_Playlist","spotify","components_SavePlaylistButton_SavePlaylistButton","ReactDOM","render","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.baa8735a.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/pause.021b1cbf.svg\";","module.exports = __webpack_public_path__ + \"static/media/play.e34ac09f.svg\";","import React from 'react';\nimport './Login.css';\n\nclass Login extends React.Component {\n    render() {\n        if (!this.props.loggedIn) {\n            return (\n                <div className=\"login\">\n                    <a href=\"http://localhost:8888/login\">\n                        Login with Spotify\n                    </a>\n                </div>\n            )\n        }\n\n        return (\n            <div className=\"loggedIn\">☺\n            </div>\n        )\n    }\n}\n\nexport default Login;","import React from 'react';\nimport './OptionsBar.css';\n\nconst options = {\n    genres: [\n        \"acoustic\",\n        \"alt-rock\",\n        \"alternative\",\n        \"ambient\",\n        \"blues\",\n        \"breakbeat\",\n        \"british\",\n        \"chill\",\n        \"classical\",\n        \"club\",\n        \"country\",\n        \"dance\",\n        \"deep-house\",\n        \"disco\",\n        \"drum-and-bass\",\n        \"dub\",\n        \"dubstep\",\n        \"edm\",\n        \"electro\",\n        \"emo\",\n        \"folk\",\n        \"funk\",\n        \"grunge\",\n        \"hard-rock\",\n        \"heavy-metal\",\n        \"hip-hop\",\n        \"house\",\n        \"indie\",\n        \"indie-pop\",\n        \"jazz\",\n        \"new-age\",\n        \"pop\",\n        \"progressive-house\",\n        \"r-n-b\",\n        \"road-trip\",\n        \"rock\",\n        \"romance\",\n        \"soul\",\n        \"study\",\n        \"summer\",\n        \"synth-pop\",\n        \"techno\",\n      ]\n};\n\nclass OptionsBar extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            selected: []\n        }\n    }\n\n    handleOptionClick(genre) {\n        if (this.state.selected.includes(genre)) {\n            this.setState({ \n                    selected: this.state.selected.filter( x => x != genre),\n                }\n            )\n            console.log(this.state.selected);\n        }\n        else if (this.state.selected.length < 5){\n            this.setState({\n                selected: this.state.selected.concat(genre)\n            })\n            console.log(this.state.selected);\n        }\n    }\n\n    handleSearch = (e) => {\n        // Call spotify app to create playlist with selected genres\n        e.preventDefault();\n\n        if (this.state.selected.length > 0) {\n            {this.props.getRecommendations(this.state.selected)};\n        }\n    }\n\n    getOptionClass(genre) {\n        if (this.state.selected.includes(genre)) {\n            return 'active';\n        }\n        else return '';\n    }\n\n    render() {\n            return (\n                <div className=\"optionsBar\">\n                    <div className=\"optionsBar-title\">\n                        <h1>Select up to 5 genres</h1>\n                    </div>\n                    <div className=\"optionsBar-options\">\n                        <ul>\n                            { options.genres.map( (genre) => {\n                                return <li  key={genre}\n                                            onClick={this.handleOptionClick.bind(this, genre)}\n                                            className={this.getOptionClass(genre)}\n                                        >{genre}</li>})}\n                        </ul>\n                    </div>\n                    <div className=\"optionsBar-submit\">\n                        <a href=\"#\" onClick={this.handleSearch}>Create my perfect playlist ♡</a>\n                    </div>\n                </div>\n            )\n    }\n}\n\nexport default OptionsBar;","import React from 'react';\nimport './Song.css';\nimport pause from './icons/pause.svg';\nimport play from './icons/play.svg';\n\nclass Song extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            isPlaying: false\n        }\n    }\n\n    handleClick = (uri) =>  {\n        if (!this.state.isPlaying){\n            this.props.play(uri);\n            this.setState({isPlaying: true});\n        }\n        else {\n            this.props.pause(uri);\n            this.setState({isPlaying: false});\n        }\n    }\n\n    render() {\n        const { song } = this.props;\n\n        return (\n            <div className=\"Song\">\n                <div className=\"albumContainer\" >\n                    <img className=\"albumCover\" src={song.albumSrc} id={this.state.isPlaying ? \"active\" : \"\"} alt=\"Album cover\"/>\n                </div>\n                <div className=\"songInfo\">\n                    <p className=\"trackName\">{song.name}</p>\n                    <p className=\"artistName\">{song.artist}</p>\n                </div>\n                <div className=\"btnContainer\">\n                <button className=\"btn\" onClick={this.handleClick.bind(this, song.uri)}>\n                    {this.state.isPlaying ? <img className=\"btnImg\" src={pause} alt=\"pause\"/> : <img className=\"btnImg\" src={play} alt=\"play\"/>}\n                </button>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default Song;","import React from 'react';\nimport Song from '../Song/Song';\nimport './Playlist.css';\n\nclass Playlist extends React.Component {\n    // todo: Save playlist to account\n    constructor(props) {\n        super(props);\n    }\n\n    render() {\n        const { songs } = this.props;\n\n        if (songs.length > 0) {\n            return (\n                <div className=\"playlist\">\n                          {songs.map((song) => {\n                            return <Song key={song.id} song={song} play={this.props.play} pause={this.pause}/>\n                          })}\n                     <div className=\"playlistButton\">\n                     </div>   \n                </div>\n\n            )\n        }\n        else return null;\n    }\n}\n\nexport default Playlist;","import React from 'react';\nimport './SavePlaylistButton.css';\n\nclass SavePlaylistButton extends React.Component {\n    constructor(props) {\n        super(props);\n    }\n\n    render() {\n        const { hasSongs } = this.props;\n        \n        if (hasSongs) {\n            return (\n                <div className=\"savePlaylistButton\">\n                    <a href=\"#\" onClick={this.props.savePlaylist}>Save playlist</a>\n                </div>\n            )\n        }\n        else return null;\n    }\n}\n\nexport default SavePlaylistButton;","import React from 'react';\nimport SpotifyWebApi from 'spotify-web-api-js';\nimport Login from './components/Login/Login';\nimport OptionsBar from './components/OptionsBar/OptionsBar';\nimport Playlist from './components/Playlist/Playlist';\nimport SavePlaylistButton from './components/SavePlaylistButton/SavePlaylistButton';\nimport './App.css'\n\n\nconst spotifyApi = new SpotifyWebApi();\n\nclass App extends React.Component {\n   constructor(props) {\n    super(props);\n    const params = this.getHashParams();\n    spotifyApi.setAccessToken(params.access_token);\n    this.state = {\n      genres: [],\n      songs: [],\n      loggedIn: params.access_token ? true : false\n      }\n    }\n\n    getRecommendations = (selected) => {\n      let options = {\n        seed_genres: selected\n      }\n\n      spotifyApi.getRecommendations(options)\n          .then( (data) => {\n            console.log(data.tracks);\n\n            this.setState({\n              songs: data.tracks.map(track => {\n                return {\n                  id: track.id,\n                  name: track.name,\n                  artist: track.artists[0].name,\n                  albumSrc: track.album.images[0].url,\n                  uri: track.uri\n                }\n              }),\n              genres: selected\n            })\n          }) \n    }\n\n    savePlaylist = (e) => {\n      e.preventDefault();\n      \n      if (this.state.songs.length > 0) {\n        const body = {\n          name: \"My perfect playlist ♡\",\n          description: `A perfect mix of... ${this.state.genres.join(', ')}!`\n        } \n\n        spotifyApi.createPlaylist(body)\n          .then( (data) => {\n            let id = data.id;\n            let uris = this.state.songs.map( song => song.uri );\n\n            spotifyApi.addTracksToPlaylist(id, uris)})\n            .then( (data) => {\n                console.log(data);\n            })\n          }\n    }\n\n    play = (uri) => {\n      let options = {\n        \"uris\": [uri]\n      };\n\n      spotifyApi.play(options);\n    };\n\n    pause = (uri) => {\n      let options = {\n        \"uris\": [uri]\n      };\n\n      spotifyApi.pause(options);\n    };\n\n    getHashParams() { \n      var hashParams = {};\n      var e, r = /([^&;=]+)=?([^&;]*)/g,\n          q = window.location.hash.substring(1);\n      while ( e = r.exec(q)) {\n         hashParams[e[1]] = decodeURIComponent(e[2]);\n      }\n      return hashParams;\n  }\n  \n  render() {\n    return (\n      <div className=\"App\">\n        <div className=\"header\">\n          < Login loggedIn={this.state.loggedIn}/>\n        </div>  \n        <div className=\"optionsBarContainer\">\n          < OptionsBar getRecommendations={this.getRecommendations} />\n        </div>\n        <div className=\"playlistContainer\">\n          < Playlist songs={this.state.songs} spotify={spotifyApi} play={this.play} pause={this.pause} />\n          < SavePlaylistButton savePlaylist={this.savePlaylist} hasSongs={this.state.songs.length > 0 ? true : false}/>\n        </div>\n\n        <div className=\"footer\"></div>\n      </div>\n    )\n  }\n\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}