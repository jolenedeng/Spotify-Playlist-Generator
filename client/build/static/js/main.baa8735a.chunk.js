(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/pause.021b1cbf.svg"},function(e,t,a){e.exports=a.p+"static/media/play.e34ac09f.svg"},function(e,t,a){e.exports=a(24)},,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),c=a(7),i=a.n(c),l=(a(17),a(1)),r=a(2),o=a(4),u=a(3),m=a(5),p=a(8),d=a.n(p),h=(a(18),function(e){function t(){return Object(l.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return this.props.loggedIn?s.a.createElement("div",{className:"loggedIn"},"\u263a"):s.a.createElement("div",{className:"login"},s.a.createElement("a",{href:"http://localhost:8888/login"},"Login with Spotify"))}}]),t}(s.a.Component)),g=(a(19),{genres:["acoustic","alt-rock","alternative","ambient","blues","breakbeat","british","chill","classical","club","country","dance","deep-house","disco","drum-and-bass","dub","dubstep","edm","electro","emo","folk","funk","grunge","hard-rock","heavy-metal","hip-hop","house","indie","indie-pop","jazz","new-age","pop","progressive-house","r-n-b","road-trip","rock","romance","soul","study","summer","synth-pop","techno"]}),f=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).handleSearch=function(e){e.preventDefault(),a.state.selected.length>0&&a.props.getRecommendations(a.state.selected)},a.state={selected:[]},a}return Object(m.a)(t,e),Object(r.a)(t,[{key:"handleOptionClick",value:function(e){this.state.selected.includes(e)?(this.setState({selected:this.state.selected.filter(function(t){return t!=e})}),console.log(this.state.selected)):this.state.selected.length<5&&(this.setState({selected:this.state.selected.concat(e)}),console.log(this.state.selected))}},{key:"getOptionClass",value:function(e){return this.state.selected.includes(e)?"active":""}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"optionsBar"},s.a.createElement("div",{className:"optionsBar-title"},s.a.createElement("h1",null,"Select up to 5 genres")),s.a.createElement("div",{className:"optionsBar-options"},s.a.createElement("ul",null,g.genres.map(function(t){return s.a.createElement("li",{key:t,onClick:e.handleOptionClick.bind(e,t),className:e.getOptionClass(t)},t)}))),s.a.createElement("div",{className:"optionsBar-submit"},s.a.createElement("a",{href:"#",onClick:this.handleSearch},"Create my perfect playlist \u2661")))}}]),t}(s.a.Component),b=(a(20),a(9)),v=a.n(b),y=a(10),E=a.n(y),k=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).handleClick=function(e){a.state.isPlaying?(a.props.pause(e),a.setState({isPlaying:!1})):(a.props.play(e),a.setState({isPlaying:!0}))},a.state={isPlaying:!1},a}return Object(m.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props.song;return s.a.createElement("div",{className:"Song"},s.a.createElement("div",{className:"albumContainer"},s.a.createElement("img",{className:"albumCover",src:e.albumSrc,id:this.state.isPlaying?"active":"",alt:"Album cover"})),s.a.createElement("div",{className:"songInfo"},s.a.createElement("p",{className:"trackName"},e.name),s.a.createElement("p",{className:"artistName"},e.artist)),s.a.createElement("div",{className:"btnContainer"},s.a.createElement("button",{className:"btn",onClick:this.handleClick.bind(this,e.uri)},this.state.isPlaying?s.a.createElement("img",{className:"btnImg",src:v.a,alt:"pause"}):s.a.createElement("img",{className:"btnImg",src:E.a,alt:"play"}))))}}]),t}(s.a.Component),O=(a(21),function(e){function t(e){return Object(l.a)(this,t),Object(o.a)(this,Object(u.a)(t).call(this,e))}return Object(m.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this,t=this.props.songs;return t.length>0?s.a.createElement("div",{className:"playlist"},t.map(function(t){return s.a.createElement(k,{key:t.id,song:t,play:e.props.play,pause:e.pause})}),s.a.createElement("div",{className:"playlistButton"})):null}}]),t}(s.a.Component)),j=(a(22),function(e){function t(e){return Object(l.a)(this,t),Object(o.a)(this,Object(u.a)(t).call(this,e))}return Object(m.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return this.props.hasSongs?s.a.createElement("div",{className:"savePlaylistButton"},s.a.createElement("a",{href:"#",onClick:this.props.savePlaylist},"Save playlist")):null}}]),t}(s.a.Component)),N=(a(23),new d.a),C=function(e){function t(e){var a;Object(l.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).getRecommendations=function(e){var t={seed_genres:e};N.getRecommendations(t).then(function(t){console.log(t.tracks),a.setState({songs:t.tracks.map(function(e){return{id:e.id,name:e.name,artist:e.artists[0].name,albumSrc:e.album.images[0].url,uri:e.uri}}),genres:e})})},a.savePlaylist=function(e){if(e.preventDefault(),a.state.songs.length>0){var t={name:"My perfect playlist \u2661",description:"A perfect mix of... ".concat(a.state.genres.join(", "),"!")};N.createPlaylist(t).then(function(e){var t=e.id,n=a.state.songs.map(function(e){return e.uri});N.addTracksToPlaylist(t,n)}).then(function(e){console.log(e)})}},a.play=function(e){var t={uris:[e]};N.play(t)},a.pause=function(e){var t={uris:[e]};N.pause(t)};var n=a.getHashParams();return N.setAccessToken(n.access_token),a.state={genres:[],songs:[],loggedIn:!!n.access_token},a}return Object(m.a)(t,e),Object(r.a)(t,[{key:"getHashParams",value:function(){for(var e,t={},a=/([^&;=]+)=?([^&;]*)/g,n=window.location.hash.substring(1);e=a.exec(n);)t[e[1]]=decodeURIComponent(e[2]);return t}},{key:"render",value:function(){return s.a.createElement("div",{className:"App"},s.a.createElement("div",{className:"header"},s.a.createElement(h,{loggedIn:this.state.loggedIn})),s.a.createElement("div",{className:"optionsBarContainer"},s.a.createElement(f,{getRecommendations:this.getRecommendations})),s.a.createElement("div",{className:"playlistContainer"},s.a.createElement(O,{songs:this.state.songs,spotify:N,play:this.play,pause:this.pause}),s.a.createElement(j,{savePlaylist:this.savePlaylist,hasSongs:this.state.songs.length>0})),s.a.createElement("div",{className:"footer"}))}}]),t}(s.a.Component);i.a.render(s.a.createElement(C,null),document.getElementById("root"))}],[[11,1,2]]]);
//# sourceMappingURL=main.baa8735a.chunk.js.map